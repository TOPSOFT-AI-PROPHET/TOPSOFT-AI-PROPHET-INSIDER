(self["webpackChunkai_prophet_front"]=self["webpackChunkai_prophet_front"]||[]).push([[5454],{30215:function(e){e.exports={avatarHolder:"antd-pro-pages-dashboard-modellist-center-avatarHolder",name:"antd-pro-pages-dashboard-modellist-center-name",detail:"antd-pro-pages-dashboard-modellist-center-detail",tagsTitle:"antd-pro-pages-dashboard-modellist-center-tagsTitle",teamTitle:"antd-pro-pages-dashboard-modellist-center-teamTitle",tags:"antd-pro-pages-dashboard-modellist-center-tags",team:"antd-pro-pages-dashboard-modellist-center-team",tabsCard:"antd-pro-pages-dashboard-modellist-center-tabsCard"}},67205:function(e){e.exports={filterCardList:"antd-pro-pages-dashboard-modellist-components-applications-index-filterCardList",cardInfo:"antd-pro-pages-dashboard-modellist-components-applications-index-cardInfo"}},82863:function(e){e.exports={lefttab:"antd-pro-pages-dashboard-modellist-style-lefttab",righttab:"antd-pro-pages-dashboard-modellist-style-righttab",tittle:"antd-pro-pages-dashboard-modellist-style-tittle",tittle2:"antd-pro-pages-dashboard-modellist-style-tittle2",avatar:"antd-pro-pages-dashboard-modellist-style-avatar",startbutton:"antd-pro-pages-dashboard-modellist-style-startbutton"}},84602:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return q}});s(5317);var a=s(87555),i=(s(52222),s(65507)),n=s(60360),r=s(66646),d=s(65353),l=s(83693),o=(s(12399),s(82404)),c=(s(13753),s(48429)),u=(s(90930),s(23040)),h=s(44742),p=s(16640),m=s(49e3),f=s(59271),x=s(67294),j=s(26388),g=s(87557),b=(s(66518),s(95322)),v=(s(18514),s(33227)),Z=(s(81984),s(46190)),y=(s(14643),s(92909)),_=s(94e3),k=s(8212),C=s(33182),S=s(52779),H=s(7085),I=s(67205),T=s.n(I),U=s(636),N=s(85893);var P=function(){var e=(0,x.useState)([]),t=(0,h.Z)(e,2),s=t[0],a=t[1],i=null;(0,x.useEffect)((function(){return(0,U.Z)("/users/returnUsrID",{method:"POST"}).then((function(e){(0,U.Z)("/tasks/personalAImodel",{method:"POST",data:{user_id:e.data.user_id}}).then((function(e){a(e.data.list)}))})),i=setInterval((function(){(0,U.Z)("/users/returnUsrID",{method:"POST"}).then((function(e){(0,U.Z)("/tasks/personalAImodel",{method:"POST",data:{user_id:e.data.user_id}}).then((function(e){a(e.data.list)}))}))}),6e3),function(){clearInterval(i)}}),[]);var n=function(e){var t=e.activeUser,s=e.newUser;return(0,N.jsxs)("div",{className:T().cardInfo,children:[(0,N.jsxs)("div",{children:[(0,N.jsx)("p",{children:(0,N.jsx)(g._H,{id:"basic.modellist.price"})}),(0,N.jsxs)("p",{children:[t,(0,N.jsx)(g._H,{id:"basic.modellist.per"})]})]}),(0,N.jsxs)("div",{children:[(0,N.jsx)("p",{children:(0,N.jsx)(g._H,{id:"basic.modellist.usage"})}),(0,N.jsx)("p",{children:s})]})]})},r=function(e){return 0===e.fields.ai_status?[(0,N.jsx)(Z.Z,{children:(0,N.jsx)(_.Z,{onClick:function(){y.default.warn({content:"\u6a21\u578b\u6b63\u5728\u8bad\u7ec3\u4e2d...."})}})},"entrance"),(0,N.jsx)(Z.Z,{title:(0,N.jsx)(g._H,{id:"basic.modellist.edit"}),children:(0,N.jsx)(k.Z,{onClick:function(){y.default.warn({content:"\u6a21\u578b\u6b63\u5728\u8bad\u7ec3\u4e2d...."})}})},"edit"),(0,N.jsx)(Z.Z,{title:(0,N.jsx)(g._H,{id:"basic.modellist.share"}),children:(0,N.jsx)(C.Z,{})},"share"),(0,N.jsx)(Z.Z,{title:(0,N.jsx)(g._H,{id:"basic.modellist.analysis"}),children:(0,N.jsx)(S.Z,{onClick:function(){y.default.warn({content:"\u6a21\u578b\u6b63\u5728\u8bad\u7ec3\u4e2d...."})}})},"analysis"),(0,N.jsx)(H.Z,{},"loading")]:[(0,N.jsx)(Z.Z,{children:(0,N.jsx)(_.Z,{onClick:function(){(0,U.Z)("/tasks/validate",{method:"POST",data:{ai_id:e.pk}}).then((function(){g.m8.push("/dash/prediction/modelinfo/".concat(e.pk))}))}})},"entrance"),(0,N.jsx)(Z.Z,{title:(0,N.jsx)(g._H,{id:"basic.modellist.edit"}),children:(0,N.jsx)(k.Z,{onClick:function(){g.m8.push("/dash/model/editor/".concat(e.pk))}})},"edit"),(0,N.jsx)(Z.Z,{title:(0,N.jsx)(g._H,{id:"basic.modellist.share"}),children:(0,N.jsx)(C.Z,{})},"share"),(0,N.jsx)(Z.Z,{title:(0,N.jsx)(g._H,{id:"basic.modellist.analysis"}),children:(0,N.jsx)(S.Z,{onClick:function(){g.m8.push("/dash/model/analyzer/".concat(e.pk))}})},"analysis")]},d=function(e,t){return 100!==t?"orange":1===e?"green":0===e?"blue":"red"},l=function(e,t){return 100!==t?"\u8bad\u7ec3\u4e2d":1===e?"\u4e0a\u67b6\u4e2d":0===e?"\u672a\u4e0a\u67b6":"\u672a\u77e5"};return(0,N.jsx)(b.ZP,{rowKey:"id",className:T().filterCardList,grid:{gutter:16,xs:1,sm:1,md:2,lg:2,xl:2,xxl:2},dataSource:s,renderItem:function(e){return(0,N.jsx)(b.ZP.Item,{children:(0,N.jsx)(v.Z.Ribbon,{text:l(e.fields.ai_published,e.fields.ai_status),color:d(e.fields.ai_published,e.fields.ai_status),children:(0,N.jsxs)(o.Z,{onClick:function(){},hoverable:0!==e.fields.ai_status,bodyStyle:{paddingBottom:20},actions:r(e),children:[(0,N.jsx)(o.Z.Meta,{avatar:(0,N.jsx)(u.C,{size:"large",src:"https://prophetsrc-1305001068.cos.ap-chengdu.myqcloud.com/defalt.png"}),title:e.fields.ai_name}),(0,N.jsx)("div",{className:T().cardItemContent,children:(0,N.jsx)(n,{activeUser:e.fields.ai_credit,newUser:e.fields.ai_usage})})]})})},e.fields.pk)}})},w=(0,g.$j)((function(e){var t=e.accountAndcenter;return{list:t.list}}))(P),A=s(30215),O=s.n(A),R=s(82863),K=s.n(R),L=s(33016),z=s.n(L),D={size:"large"},B=function(e){var t=e.url,s=(0,x.useState)(""),a=(0,h.Z)(s,2),i=a[0],n=a[1],r=(0,x.useState)(0),d=(0,h.Z)(r,2),l=d[0],p=d[1],m=(0,x.useState)(0),f=(0,h.Z)(m,2),j=f[0],b=f[1];return(0,x.useEffect)((function(){(0,U.Z)("/users/returnUsrID",{method:"POST"}).then((function(e){(0,U.Z)("/tasks/personalAImodelUsage",{method:"POST",data:{user_id:e.data.user_id}}).then((function(e){"None"!==e.ai_model_usage&&b(e.ai_model_usage)}))}))}),[1]),(0,x.useEffect)((function(){(0,U.Z)("/users/getUserInfo",{method:"POST"}).then((function(e){n(e.data.nickname),p(e.data.credit)}))}),[1]),(0,N.jsx)(o.Z,{bordered:!1,style:{marginBottom:24},children:(0,N.jsx)("div",{className:K().lefttab,children:(0,N.jsxs)("div",{children:[(0,N.jsx)("div",{className:K().avatar,children:(0,N.jsx)(u.C,{size:"large",src:t})}),(0,N.jsx)("div",{className:K().tittle,children:i}),(0,N.jsxs)("div",{className:K().tittle2,children:[(0,N.jsx)(g._H,{id:"basic.modellist.balance"}),":  ".concat(l)]}),(0,N.jsxs)("div",{className:K().tittle2,children:[(0,N.jsx)(g._H,{id:"basic.modellist.modelused"}),": ".concat(j)," ",(0,N.jsx)(g._H,{id:"basic.modellist.times"})]}),(0,N.jsxs)("div",{className:K().tittle2,children:[(0,N.jsx)(g._H,{id:"basic.modellist.pageviewed"}),": -"," ",(0,N.jsx)(g._H,{id:"basic.modellist.times"})]}),(0,N.jsx)("div",{style:{display:"flex",justifyContent:"center",padding:"40px"},children:(0,N.jsx)(c.Z,{type:"primary",shape:"round",size:D.size,style:{width:"200px",height:"50px"},onClick:function(){g.m8.push("/dash/model/creator")},children:(0,N.jsx)(g._H,{id:"basic.modellist.buildmodel"})})}),(0,N.jsx)("div",{className:K().tittle2,children:"\u5148\u4e16\u754c\uff0c\u800c\u77e5\u4e07\u7269"}),(0,N.jsx)("div",{style:{fontSize:"12px",textAlign:"center",display:"flex",justifyContent:"center"},children:"We believe our diversity is our stength. With people from every background, gender, creed and religion"})]})})})},J=[{key:"applications",tab:(0,N.jsxs)("span",{children:[(0,N.jsx)(g._H,{id:"basic.modellist.application"})," ",(0,N.jsx)("span",{style:{fontSize:14}})]})}],M=function(e){(0,d.Z)(s,e);var t=(0,l.Z)(s);function s(e){var a;return(0,n.Z)(this,s),a=t.call(this,e),a.state={tabKey:"articles"},a.input=void 0,a.onTabChange=function(e){a.setState({tabKey:e})},a.renderChildrenByTabKey=function(e){return"projects"===e||"applications"===e||"articles"===e?(0,N.jsx)(w,{}):null},a.renderUserInfo=function(e){return(0,N.jsxs)("div",{className:O().detail,children:[(0,N.jsxs)("p",{children:[(0,N.jsx)(p.Z,{style:{marginRight:8}}),e.title]}),(0,N.jsxs)("p",{children:[(0,N.jsx)(m.Z,{style:{marginRight:8}}),e.group]}),(0,N.jsxs)("p",{children:[(0,N.jsx)(f.Z,{style:{marginRight:8}}),(e.geographic||{province:{label:""}}).province.label,(e.geographic||{city:{label:""}}).city.label]})]})},a.state={data:[],data_task:{num_of_task:"",num_of_finished_tasks:""},imageURL:""},a}return(0,r.Z)(s,[{key:"componentDidMount",value:function(){var e=this,t=this.props.dispatch;t({type:"accountAndcenter/fetchCurrent"}),t({type:"accountAndcenter/fetch"}),(0,U.Z)("/users/getUserInfo",{method:"POST"}).then((function(t){e.handleAvatar(t.data.profile_image_uuid)})).catch((function(e){return console.log(e)}))}},{key:"handleAvatar",value:function(e){var t=this;if(e){var s=new(z())({SecretId:"AKID21jLxxXtspX0FC9ax4h2C51kFoCNhWZg",SecretKey:"HROJDscqncKP9g0zJMJ7Mo20oHTVJsRr"});s.getObjectUrl({Bucket:"prophetsrc-1305001068",Region:"ap-chengdu",Key:"".concat(e,".jpg")},(function(e,s){t.setState({imageURL:s.Url})}))}else this.setState({imageURL:"https://prophetsrc-1305001068.cos.ap-chengdu.myqcloud.com/defalutprofile.png"})}},{key:"render",value:function(){var e=this.state.tabKey;return(0,N.jsx)(j.Z,{children:(0,N.jsxs)(a.Z,{gutter:24,children:[(0,N.jsx)(i.Z,{lg:7,md:24,children:(0,N.jsx)(B,{url:this.state.imageURL})}),(0,N.jsx)(i.Z,{lg:17,md:24,children:(0,N.jsx)(o.Z,{className:O().tabsCard,bordered:!1,tabList:J,activeTabKey:e,onTabChange:this.onTabChange,children:(0,N.jsx)(w,{})})})]})})}}]),s}(x.Component),q=(0,g.$j)((function(e){var t=e.loading;return{currentUserLoading:t.effects["accountAndcenter/fetchCurrent"]}}))(M)}}]);